<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" >
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" (click)="closeDialog()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Preference Editor</h4>
      </div>
      <div class="modal-body">
    	<form [formGroup]="preferenceForm" novalidate (keyup.enter)="onSave(preferenceForm)">
      	  <ul class="list-group">
      	    <li>
      	    <div class="block">
      	      <label>Key: </label>
          	  	<input type="text" class="form-control" formControlName="key" [readonly]="!isKeyEmpty">
          	  </div>
        	</li>
      		<li>
      		  <label>Scope: </label>
  			  <input type="text" class="form-control" formControlName="scope" [readonly]="!isScopeEmpty">
        	</li>
        	<li *ngIf="showSource">
        	  <label>Source: </label>
  				<select class="form-control" formControlName="source" >
    			   <option *ngFor="let env of envs" [selected]="source == env.name">{{env.name}}</option>
  				</select>
        	</li>
        	<li *ngIf="showUser">
        	  <label>User: </label>
          	  <input type="text" class="form-control" formControlName="user" [readonly]=true placeholder="auto-generated">
        	</li>
        	<li>
        	  <div class="form-group">
  				<label for="comment">Value:</label>
  				<textarea class="form-control" formControlName="value" rows="5" id="value"></textarea>
			  </div>
        	</li>
          </ul>
		  <div class="row" style="margin-top: 20px;">
            <div class="col-md-12">
              <button type="button" class="btn btn-default" (click)="closeDialog()">
			  	<span class="glyphicon glyphicon-remove"></span> Cancel
		  	  </button>
              <button type="button" class="btn btn-default pull-right" (click)="onSave(preferenceForm)" [disabled]="!preferenceForm.valid">
			  	<span class="glyphicon glyphicon-save"></span> Save
		  	  </button>
            </div>
          </div>
		</form>
    </div>
  </div>
</div>
</div>
