<!-- *******************************************************************************
  * Copyright (c) 2016 Gigatronik Ingolstadt GmbH
  * All rights reserved. This program and the accompanying materials
  * are made available under the terms of the Eclipse Public License v1.0
  * which accompanies this distribution, and is available at
  * http://www.eclipse.org/legal/epl-v10.html
  *
  * Contributors:
  * Dennis Schroeder - initial implementation
  ******************************************************************************* -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <div class="form-group">
          <form class="form-inline">
	          <label for="search-source" class="control-label">Filter</label>
	          <div class="btn-group" dropdown>
	            <button id="search-source" type="button" class="btn btn-default dropdown-toggle" dropdownToggle [disabled]="disabled" aria-haspopup="true" aria-expanded="false">
	              {{selectedFilter.name}} <span class="caret"></span>
	            </button>
	            <ul class="dropdown-menu" dropdownMenu>
                <li *ngFor="let filter of filters">
                  <a class="dropdown-item" (click)="selectFilter(filter)">{{filter.name}}</a>
                </li>
	            </ul>
	          </div>
	          <label for="search-source" class="control-label">Quelle</label>
	          <div class="btn-group" dropdown>
	            <button id="search-source" type="button" class="btn btn-default dropdown-toggle" dropdownToggle [disabled]="disabled" aria-haspopup="true" aria-expanded="false">
	            Quelle w√§hlen <span class="caret"></span>
	            </button>
	            <ul class="dropdown-menu" dropdownMenu>
                <li *ngFor="let env of envs">
                  <a class="dropdown-item" (click)="selectEnv(env.sourceName)">{{env.name}}</a>
                </li>
	            </ul>
	          </div>
	          <label for="search-resulttype" class="control-label">Ergebnistyp</label>
	          <div class="btn-group" dropdown>           
	            <button id="search-resulttype" type="button" class="btn btn-default dropdown-toggle" dropdownToggle [disabled]="disabled" aria-haspopup="true" aria-expanded="false">
	            {{type.label}} <span class="caret"></span>
	            </button>
	            <ul class="dropdown-menu" dropdownMenu>
                <li *ngFor="let opt of definitions.options" role="menuitem">
                  <a class="dropdown-item" (click)="selectDef(opt)">{{opt.label}}</a>
                </li>
	            </ul>
	          </div>
	          <div class="input-group">
    			<input type="text" class="form-control" placeholder="Suchtext eingeben" #query (keyup.enter)="onSubmit(query.value)" aria-describedby="basic-addon1">
  			  	<div class="input-group-btn">
	              <button type="button" class="btn btn-default" (click)="onSubmit(query.value)">Suchen</button>
	            </div>
	          </div>
	       </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <accordion>
           <accordion-group heading="Advanced search" [isOpen]=false>
             <div>
               <form class="form-inline">
                 <button id="filter-new" type="button" class="btn btn-default">New Filter ...</button>
                 <button id="filter-add" type="button" class="btn btn-default">Add ...</button>
               </form>
               <div *ngFor="let env of selectedFilter.envs">
                 <h3>{{env.name}}</h3>
                 <table class="table table-bordered">
                   <tr *ngFor="let condition of env.conditions">
                     <td>{{condition.type}}</td>
                     <td>{{condition.attribute}}</td>
                     <td>
                       <div class="btn-group" dropdown>
                         <button id="operator" type="button" class="btn btn-default dropdown-toggle" dropdownToggle [disabled]="disabled" aria-haspopup="true" aria-expanded="false">
                           {{condition.operator}} <span class="caret"></span>
                         </button>
                         <ul class="dropdown-menu" dropdownMenu>
                           <li>=</li>
                           <li>&gt;</li>
                           <li>&gt;=</li>
                           <li>&lt;</li>
                           <li>&lt;=</li>
                         </ul>
                       </div>
                     </td>
                     <td><input type="text" class="form-control" placeholder="Wert" value="{{condition.value}}"></td>
                     <td><button id="add" type="button" class="btn btn-default">+</button></td>
                     <td><button id="remove" type="button" class="btn btn-default">-</button></td>
                   </tr>
                 </table>
               </div>
             </div>
           </accordion-group>
        </accordion>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <h4>Ergebnisse:</h4>
         <mdm-tableview [nodes]="nodes" isShopable="true"></mdm-tableview>
      </div>
    </div>
  </div>
